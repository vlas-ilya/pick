var pick=function(){"use strict";var r={};return r.comparator=function(r,e){if(null==r||null==e)return 0;for(var n=0;n<r.length&&n<e.length;n++){if(void 0==r[n])return-1;if(void 0==e[n])return 1;if(r[n]<e[n])return-1;if(r[n]>e[n])return 1}return 0},r.isEmpty=function(r){return void 0==r?!0:(r instanceof Array||"string"==typeof r)&&0==r.length?!0:"object"==typeof r&&0===Object.keys(r).length?!0:!1},r.createPath=function(e,n){var t=n[0];return void 0==t?{}:(void 0==e[t]&&(e[t]={}),void r.createPath(e[t],n.slice(1)))},r.createPattern=function(e){var n={};return e.map(function(r){return r.split(".")}).sort(r.comparator).forEach(function(e){r.createPath(n,e)}),n},r.copyFields=function(e,n,t,i){if(r.isEmpty(i[t]))n[t]=e[t];else if(e[t]instanceof Array){n[t]=[];for(var o=0;o<e[t].length;o++){n[t][o]={};for(var c in i[t])r.copyFields(e[t][o],n[t][o],c,i[t])}}else if(e[t]instanceof Object){n[t]={};for(var c in i[t])r.copyFields(e[t],n[t],c,i[t])}},r.removeFields=function(e,n,t){if(r.isEmpty(t[n]))delete e[n];else if(e[n]instanceof Array)for(var i=0;i<e[n].length;i++)for(var o in t[n])r.removeFields(e[n][i],o,t[n]);else if(e[n]instanceof Object)for(var o in t[n])r.removeFields(e[n],o,t[n])},r.copy=function(r){return JSON.parse(JSON.stringify(r))},r.pick=function(e,n){n instanceof Array&&(n=r.createPattern(n));var t={};for(var i in n)r.copyFields(e,t,i,n);return r.copy(t)},r.unpick=function(e,n){n instanceof Array&&(n=r.createPattern(n));var t=r.copy(e);for(var i in n)r.removeFields(t,i,n);return t},{pick:r.pick,unpick:r.unpick}}();