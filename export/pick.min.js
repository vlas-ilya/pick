!function(){"use strict";var e={};e.comparator=function(e,r){if(null==e||null==r)return 0;for(var n=0;n<e.length&&n<r.length;n++){if(void 0==e[n])return-1;if(void 0==r[n])return 1;if(e[n]<r[n])return-1;if(e[n]>r[n])return 1}return 0},e.isEmpty=function(e){return void 0==e?!0:(e instanceof Array||"string"==typeof e)&&0==e.length?!0:"object"==typeof e&&0===Object.keys(e).length?!0:!1},e.createPath=function(r,n){var t=n[0];return void 0==t?{}:(void 0==r[t]&&(r[t]={}),void e.createPath(r[t],n.slice(1)))},e.createPattern=function(r){var n={};return r.map(function(e){return e.split(".")}).sort(e.comparator).forEach(function(r){e.createPath(n,r)}),n},e.copyFields=function(r,n,t,i){if(e.isEmpty(i[t]))n[t]=r[t];else if(r[t]instanceof Array){n[t]=[];for(var o=0;o<r[t].length;o++){n[t][o]={};for(var c in i[t])e.copyFields(r[t][o],n[t][o],c,i[t])}}else if(r[t]instanceof Object){n[t]={};for(var c in i[t])e.copyFields(r[t],n[t],c,i[t])}},e.removeFields=function(r,n,t){if(e.isEmpty(t[n]))delete r[n];else if(r[n]instanceof Array)for(var i=0;i<r[n].length;i++)for(var o in t[n])e.removeFields(r[n][i],o,t[n]);else if(r[n]instanceof Object)for(var o in t[n])e.removeFields(r[n],o,t[n])},e.copy=function(e){return JSON.parse(JSON.stringify(e))},e.pick=function(r,n){n instanceof Array&&(n=e.createPattern(n));var t={};for(var i in n)e.copyFields(r,t,i,n);return e.copy(t)},e.unpick=function(r,n){n instanceof Array&&(n=e.createPattern(n));var t=e.copy(r);for(var i in n)e.removeFields(t,i,n);return t},"object"==typeof module?module.exports={pick:e.pick,unpick:e.unpick}:(window.pick=e.pick,window.unpick=e.unpick)}();